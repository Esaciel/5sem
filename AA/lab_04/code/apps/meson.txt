project('apps', 'cpp',
  default_options : ['cpp_std=c++20']
)

common_sources = [
  '../src/main.cpp',
  '../src/Solution/solution.cpp',
  '../src/IO/io.cpp',
  '../src/Measurements/measurements.cpp',
  '../src/Utils/utils.cpp',
  '../src/Solution/threadpool.cpp'
]

incdirs = include_directories('../src', '../src/Solution', '../src/IO', '../src/Measurements', '../src/Utils')

common_cflags = ['-O0', '-pthread']
release_cflags = ['-g0']
debug_cflags = []
cli_cflags = ['-DAPP_CLI']
tui_cflags = ['-DAPP_TUI']

app_cli_release = executable('app-cli-release',
  common_sources,
  include_directories : incdirs,
  cpp_args : common_cflags + cli_cflags + release_cflags
)

app_cli_debug = executable('app-cli-debug',
  common_sources,
  include_directories : incdirs,
  cpp_args : common_cflags + cli_cflags + debug_cflags
)

app_tui_release = executable('app-tui-release',
  common_sources,
  include_directories : incdirs,
  cpp_args : common_cflags + tui_cflags + release_cflags
)

app_tui_debug = executable('app-tui-debug',
  common_sources,
  include_directories : incdirs,
  cpp_args : common_cflags + tui_cflags + debug_cflags
)